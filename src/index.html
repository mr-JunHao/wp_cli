<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0,minimal-ui">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>你的爱情菜品</title>
</head>

<body>
  <h1 style="display: none">测测你的爱情专属菜品，你的爱竟然是TA嘴里的一道菜</h1>
  <div id="shareSetting" style="display: none">
    <div class="title">你的爱情菜品</div>
    <div class="context">测测你的爱情专属菜品，你的爱竟然是TA嘴里的一道菜</div>
    <img src="./img/shareimg.jpeg" class="imgUrl" alt="">
  </div>
  <div class="main show">
    <div class="content" id="content">
      <input type="text" placeholder="请输入您的名字">
      <a href="javascript:;" class="submit"></a>
    </div>
  </div>
  <div class="quest-wrap">
      <div class="show quest quest__1">
          <div class="quest-content">
            <div class="quest-list quest-list__a">
              <span>
                  　多愁伤感的水象星座
                <br> 　　　　（巨蟹座、天蝎座、双鱼座）
              </span>
            </div>
            <div class="quest-list quest-list__b">
              <span>
                  　热情单纯的火象星座
                <br>　　　　（白羊座、狮子座、射手座）
      
              </span>
            </div>
            <div class="quest-list quest-list__c">
              <span>
                  　踏实稳重的土象星座
                <br>　　　　（摩羯座、金牛座、处女座）
      
              </span>
            </div>
            <div class="quest-list quest-list__d">
              <span>
                  　天马行空的风象星座
                <br>　　　　（天秤座、水瓶座、双子座）
              </span>
            </div>
          </div>
          <div class="num-page num-page__1"></div>
        </div>
        <div class="quest quest__2">
            <div class="quest-content">
              <div class="quest-list quest-list__a">
                <span>低卡路里健康的鱼虾、蔬菜，有助于我维持苗条的身材。</span>
              </div>
              <div class="quest-list quest-list__b">
                <span>无肉不欢，我是肉食动物。</span>
              </div>
              <div class="quest-list quest-list__c">
                <span>无所谓，我对美食雨露均沾。</span>
              </div>
            </div>
            <div class="num-page num-page__2"></div>
        </div>
        <div class="quest quest__3">
            <div class="quest-content">
              <div class="quest-list quest-list__a">
                <span>下血本，找家仪式感十足的高级餐厅。</span>
              </div>
              <div class="quest-list quest-list__b">
                <span>酒香不怕巷子深，小巷里的老字号特色美食。</span>
              </div>
              <div class="quest-list quest-list__c">
                <span>随意一点，看对眼的餐厅就行。</span>
              </div>
              <div class="quest-list quest-list__d">
                <span>没什么比得上自己做的心意，在家动手做一桌。</span>
              </div>
            </div>
            <div class="num-page num-page__3"></div>
        </div>
        <div class="quest quest__4">
            <div class="quest-content">
              <div class="quest-list quest-list__a">
                <span>每天都做，煎炸烹炒样样精通，我就是我们家的大厨。</span>
              </div>
              <div class="quest-list quest-list__b">
                <span>偶尔做一两次，吃腻了外卖偶尔也需要健康一下</span>
              </div>
              <div class="quest-list quest-list__c">
                <span>做饭太难基本不做。</span>
              </div>
            </div>
            <div class="num-page num-page__4"></div>
        </div>
        <div class="quest quest__5">
            <div class="quest-content">
              <div class="quest-list quest-list__a">
                <span>天马行空的创意美食，我的菜谱我做主。</span>
              </div>
              <div class="quest-list quest-list__b">
                <span>精致的西式大餐，在家也能吃出高级范。</span>
              </div>
              <div class="quest-list quest-list__c">
                <span>美味的中式菜肴，我的爱人有个中国胃。</span>
              </div>
              <div class="quest-list quest-list__d">
                <span>无所谓什么类型，只要我做的她/他都喜欢。</span>
              </div>
            </div>
            <div class="num-page num-page__5"></div>
        </div>
        <div class="quest quest__6">
            <div class="quest-content">
              <div class="quest-list quest-list__a">
                <span>白灼的轻口味，清新脱俗，很纯很暧昧。</span>
              </div>
              <div class="quest-list quest-list__b">
                <span>酱爆的重口味，谁年轻时没遇到过几个大猪蹄子。</span>
              </div>
              <div class="quest-list quest-list__c">
                <span>丰富多种口味，每一口都是一次环游世界。</span>
              </div>
            </div>
            <div class="num-page num-page__6"></div>
        </div>
        <div class="sex">
          <div class="sex-option">
            <a href="javascript:;" class="sex-boy" title="男"></a>
            <a href="javascript:;" class="sex-girl" title="女"></a>
          </div>
          <div class="sex-submit"></div>
        </div>  
  </div>
  
  <div class="result-wrap" style="z-index: 19;">
      <div class="logo"></div>
      <div class="img-show">
        <div class="text">
          <span id="nickName"></span> <br>
          你的爱情基因
        </div>
        <img width="100%" id="resultNum" src="./img/result-1.jpg" alt="">
        <div class="qrcode"><img src="./img/qrcode.png" alt=""></div>
      </div>
      <!-- <canvas id="resultDraw"></canvas> -->
      <div class="result">
        <div class="open-btn"></div>
        <div class="handle-btn">
          <div class="restart"></div>
          <a class="get-sc" onclick="getFood()" href="javascript:;"></a>
        </div>
        <div class="touchsave"></div>
      </div>
  </div>
  <div class="pop" id="pop">
    <div class="content">
      <div class="close-btn"></div>
      <div class="img-box">
          <img class="img1" src="./img/result-1-pop.png" width="100%" alt="">
          <img class="img2" src="./img/result-2-pop.png" width="100%" alt="">
          <img class="img3" src="./img/result-3-pop.png" width="100%" alt="">
          <img class="img4" src="./img/result-4-pop.png" width="100%" alt="">
          <img class="img5" src="./img/result-5-pop.png" width="100%" alt="">
          <img class="img6" src="./img/result-6-pop.png" width="100%" alt="">
          <img class="img7" src="./img/result-7-pop.png" width="100%" alt="">
          <img class="img8" src="./img/result-8-pop.png" width="100%" alt="">
          <img class="img9" src="./img/result-9-pop.png" width="100%" alt="">
          <img class="img10" src="./img/result-10-pop.png" width="100%" alt="">
          <img class="img11" src="./img/result-11-pop.png" width="100%" alt="">
          <img class="img12" src="./img/result-12-pop.png" width="100%" alt="">
      </div>
    </div>
  </div>
  <div class="music-btn stop"></div>
  <audio id="music" style="width:0;height:0;opacity: 0;" src="./media/ms.mp3" loop="loop"></audio>
  <script src="./js/lib/jquery-3.3.1.min.js"></script>
  <script src="./js/lib/createjs.min.js"></script>
  <script src="./js/lib/jweixin-1.2.0.js"></script>
  <script>
    function startTest(){
        //开始测试按钮统计代码放这里
      
    }
    function getCb(){
      //获取菜谱按钮统计放代码这里
    }
    function getFood(){
      //获取食材按钮统计放代码这里

      location.href = 'https://mall.jd.com/index-1000081185.html';
    }
    function shareCount(){
      //转发量统计放代码这里
    }

    $(function(){

      var shareConf = {
        title: $('#shareSetting .title').text(),
        content: $('#shareSetting .content').text(),
        imgUrl: $('#shareSetting .imgUrl').text(),
        link: location.href
      }
      var wxShare = false;

      if(!wxShare){
        return false;
      };

      $.ajax({
        url: '/',
        dataType: 'json',
        type: 'GET',
        success: function(res){
          var data = res.data;
          wx.config({
              debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
              appId: data.appId, // 必填，公众号的唯一标识
              timestamp: data.timestamp, // 必填，生成签名的时间戳
              nonceStr: data.nonceStr, // 必填，生成签名的随机串
              signature: data.signature,// 必填，签名
              jsApiList: [
                "onMenuShareTimeline",//分享到朋友圈
                "onMenuShareAppMessage",//分享给好友
                "onMenuShareQQ",//分享到qq
                "onMenuShareWeibo",//分享到腾讯微博
                "onMenuShareQZone"//分享到QQ空间
              ] // 必填，需要使用的JS接口列表
          });
        }
      });
      
      wx.ready(function(){
        var link = window.location.href;
        var protocol = window.location.protocol;
        var host = window.location.host;

        //分享朋友圈
        wx.onMenuShareTimeline({
            title: shareConf.title,
            link: shareConf.link,
            imgUrl: shareConf.imgUrl,// 自定义图标
            trigger: function (res) {
                // 不要尝试在trigger中使用ajax异步请求修改本次分享的内容，因为客户端分享操作是一个同步操作，这时候使用ajax的回包会还没有返回.
                //alert('click shared');
            },
            success: function (res) {
                //alert('shared success');
                //some thing you should do
                shareCount();
            },
            cancel: function (res) {
                //alert('shared cancle');
            },
            fail: function (res) {
                //alert(JSON.stringify(res));
            }
        });

         //分享给好友
         wx.onMenuShareAppMessage({
            title: shareConf.title,
            link: shareConf.link,
            imgUrl: shareConf.imgUrl,
            desc: shareConf.content, // 分享描述
            type: 'link', // 分享类型,music、video或link，不填默认为link
            dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
            success: function () {
                // 用户确认分享后执行的回调函数
                shareCount();
            },
            cancel: function () {
                // 用户取消分享后执行的回调函数
            }
        });

        wx.onMenuShareQQ({
          title: shareConf.title,
          link: shareConf.link,
          imgUrl: shareConf.imgUrl,
          desc: shareConf.content,
          success: function () {
          // 用户确认分享后执行的回调函数
          shareCount();
          },
          cancel: function () {
          // 用户取消分享后执行的回调函数
          }
        });
        wx.onMenuShareWeibo({
          title: shareConf.title,
          link: shareConf.link,
          imgUrl: shareConf.imgUrl,
          desc: shareConf.content,
          success: function () {
          // 用户确认分享后执行的回调函数
          shareCount();
          },
          cancel: function () {
          // 用户取消分享后执行的回调函数
          }
        });
        wx.onMenuShareQZone({
          title: shareConf.title,
          link: shareConf.link,
          imgUrl: shareConf.imgUrl,
          desc: shareConf.content,
          success: function () {
          // 用户确认分享后执行的回调函数
          shareCount();
          },
          cancel: function () {
          // 用户取消分享后执行的回调函数
          }
        });
        wx.error(function (res) {
            alert(res.errMsg);
        });
      })

    });
  </script>
</body>
</html>
